{"version":3,"sources":["pages/Kasir/ValidasiJualBeli/HeadValidasiJualBeli.jsx","pages/Kasir/ValidasiJualBeli/pdf/CetakFakturJualBeli.jsx","pages/Kasir/ValidasiJualBeli/FormValidasiJualBeli.jsx","assets/image-not-found.png"],"names":["HeadValidasiJualBeli","props","_this","Object","classCallCheck","this","_super","call","state","isLoading","DataValidasi","btnValidasi","kode_sales","warna","dispatch","getDataSales","saveValidasiJual","length","saveValidasiBeli","saveValidasiTitipan","localStorage","setItem","JSON","stringify","getDetaValidasi","_this2","setState","postDataNoTImeOut2","then","res","data","pembelian","penjualan","ToastNotification","change","forEach","element","harga_total","harga","disableButtonValidasi","catch","err","_err$response","response","saveValidasiPesanan","selectRowPenjualan","mode","clickToSelect","selectColumnPosition","onSelect","row","isSelect","rowIndex","e","hasil","no_faktur_group","cek","parse","getItem","findIndex","push","splice","onSelectAll","list","index","selectRowPembelian","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","key","preventDefault","className","panel","tabel","selectRow","keyField","columns","columnsJual","empty","columnsBeli","disabled","type","Fragment","isLoadingBtl","onClick","btnClear","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","DataSales","datamaster","hutang","CetakFakturJualBeli","arguments","undefined","doc","jsPDF","setFontSize","setProperties","title","setFont","notajual","Faktur","getUserdata","kode_toko","status","jenis","text","position_x","parseFloat","position_y","splitTextToSize","isi","width","parseInt","rotate","addImage","height","notFound","BwipJs","toCanvas","bcid","scale","includetext","textxalign","dataURL","document","getElementById","toDataURL","addPage","save","string","output","x","window","open","write","FormValidasiJualBeli","dataField","footer","cell","num","footerAttrs","colSpan","formatter","toFixed","columnData","reduce","acc","item","headerClasses","toLocaleString","columnsTitipan","columnsPesanan","bind","assertThisInitialized","setTimeout","removeItem","reset","_this3","validasi_jual","validasi_beli","penjualan_tmp","pembelian_tmp","postDataNoTImeOut","_ref","asyncToGenerator","regenerator_default","mark","_callee","DataFaktur","_iterator","_step","_hasil","IsiFaktur","_iterator2","_step2","_loop","notabeli","feedback","wrap","_context2","prev","next","createForOfIteratorHelper","s","n","done","value","DetailFaktur","_context","getImage","stop","delegateYield","t1","f","finish","t2","isLoadingValidasi","jml_alamat","head","n_alamat_customer","concat","tgl_system","nama_customer","no_hp","slice","total","harga_nota","detail","jml_nama_barang","nama_barang","no_faktur_beli","kode_dept","berat","Number","join","TextFile","_x","apply","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","_this4","react_router_dom","to","style","display","id","rows","cols","ValidasiJualBeli_HeadValidasiJualBeli","React","module","exports"],"mappings":"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","file":"static/js/71.3086b904.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport {  postDataNoTImeOut2 } from \"../../../config/axios\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport {\r\n  disableButtonValidasi,\r\n  saveValidasiBeli,\r\n  saveValidasiJual,\r\n  saveValidasiPesanan,\r\n  saveValidasiTitipan,\r\n} from \"../../../actions/hutang_action\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  // let hasil = parseInt(localStorage.getItem('total_harga_jual')) - parseInt(localStorage.getItem('total_harga_beli'))\r\n  // let datausersvalidasi = localStorage.getItem('datausersvalidasi')===null ? [] : JSON.parse(localStorage.getItem('datausersvalidasi'));\r\n  return {\r\n    DataSales: state.datamaster.getDataSales,\r\n    saveValidasiBeli: state.hutang.saveValidasiBeli,\r\n    saveValidasiJual: state.hutang.saveValidasiJual,\r\n    saveValidasiTitipan: state.hutang.saveValidasiTitipan,\r\n    saveValidasiPesanan: state.hutang.saveValidasiPesanan,\r\n    btnValidasi: state.hutang.disableButtonValidasi,\r\n  };\r\n};\r\nclass HeadValidasiJualBeli extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      DataValidasi: [],\r\n      btnValidasi: false,\r\n      kode_sales: false,\r\n      warna :false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    // this.props.dispatch(disableButtonValidasi());\r\n    if (this.props.saveValidasiJual.length === 0 && this.props.saveValidasiBeli.length === 0 && this.props.saveValidasiTitipan.length === 0) {\r\n      localStorage.setItem(\r\n        \"validasi_jual\",\r\n        JSON.stringify([])\r\n      );\r\n      localStorage.setItem(\r\n        \"validasi_beli\",\r\n        JSON.stringify([])\r\n      );\r\n      localStorage.setItem(\r\n        \"validasi_titipan\",\r\n        JSON.stringify([])\r\n      );\r\n    }\r\n    this.getDetaValidasi()\r\n  }\r\n  // getDataSales(e) {\r\n  //   localStorage.setItem(\r\n  //     \"validasi_jual\",\r\n  //     JSON.stringify([])\r\n  //   );\r\n  //   localStorage.setItem(\r\n  //     \"validasi_beli\",\r\n  //     JSON.stringify([])\r\n  //   );\r\n  //   localStorage.setItem(\r\n  //     \"validasi_titipan\",\r\n  //     JSON.stringify([])\r\n  //   );\r\n  //   this.setState({\r\n  //     kode_sales: e,\r\n  //   });\r\n  //   getData(\"sales/get/by-kode-sales/\" + e)\r\n  //     .then((res) => {\r\n  //       // localStorage.setItem('datausersvalidasi',JSON.stringify(res.data))\r\n  //       this.props.change(\"nama_sales\", res.data.nama_sales);\r\n  //       this.props.dispatch(saveValidasiJual([]));\r\n  //       this.props.dispatch(saveValidasiBeli([]));\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       ToastNotification(\"info\", \"Gagal Mengambil Data Ke server\");\r\n  //     });\r\n  // }\r\n  getDetaValidasi() {\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    // let hasil = {\r\n    //   kode_sales: this.state.kode_sales,\r\n    // };\r\n    // if (hasil.kode_sales === false) {\r\n    //   this.setState({\r\n    //     isLoading: false,\r\n    //   });\r\n    //   ToastNotification(\"info\", \"Kode Sales Harus Di pilih\");\r\n    //   return false;\r\n    // }\r\n    postDataNoTImeOut2(\"validasi/all\")\r\n      .then((res) => {\r\n        if (\r\n          res.data[0].pembelian.length === 0 &&\r\n          res.data[0].penjualan.length === 0\r\n          // res.data[0].titipan.length === 0 &&\r\n          // res.data[0].pesanan.length === 0\r\n        )\r\n        {\r\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.change('grandtotal',0)\r\n        } else {\r\n          let harga_total = 0;\r\n          res.data[0].penjualan.forEach(element => {\r\n            harga_total = harga_total + element.harga_total\r\n          });\r\n\r\n          let harga = 0;\r\n          res.data[0].pembelian.forEach(element => {\r\n            harga = harga + element.harga\r\n          });\r\n\r\n          // let harga_total_titipan = 0;\r\n          // res.data[0].titipan.forEach(element => {\r\n          //   harga_total_titipan = harga_total_titipan + element.harga_total\r\n          // });\r\n\r\n          // let harga_total_pesanan = 0;\r\n          // res.data[0].titipan.forEach(element => {\r\n          //   harga_total_pesanan = harga_total_pesanan + element.harga_total\r\n          // });\r\n\r\n          // let hasil = Math.abs(parseInt(harga) - parseInt(harga_total));\r\n          // let hasil =parseInt(harga_total) - parseInt(harga) - parseInt(harga_total_titipan) - parseInt(harga_total_pesanan);\r\n          // // console.log(hasil);\r\n          // if (hasil < 0) {\r\n          //   // console.log('bener');\r\n          //   this.setState({\"warna\" : true})\r\n          // } else {\r\n          //   this.setState({\"warna\" : false})\r\n          // }\r\n          // this.props.change('grandtotal',hasil.toLocaleString(\"kr-KO\"))\r\n          // ToastNotification(\"success\", \"Data Validasi Tersedia\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          this.props.dispatch(disableButtonValidasi(true));\r\n          localStorage.setItem(\r\n            \"validasi_jual\",\r\n            JSON.stringify(res.data[0].penjualan)\r\n          );\r\n          localStorage.setItem(\r\n            \"validasi_beli\",\r\n            JSON.stringify(res.data[0].pembelian)\r\n          );\r\n          // localStorage.setItem(\r\n          //   \"validasi_titipan\",\r\n          //   JSON.stringify(res.data[0].titipan)\r\n          // );\r\n\r\n          \r\n          // let pesanan = [];\r\n          // res.data[0].pesanan.forEach(element => {\r\n          //     element.detail_barang.forEach(detail => {\r\n          //       let row = {\r\n          //         no_pesanan: element.no_pesanan,\r\n          //         kode_kategori : detail.kode_kategori,\r\n          //         perkiraan_berat : detail.perkiraan_berat,\r\n          //         perkiraan_kadar : detail.perkiraan_kadar,\r\n          //         harga_gram : detail.harga_gram,\r\n          //         harga_atribut : detail.harga_atribut,\r\n          //         ongkos : detail.ongkos,\r\n          //         sub_total : detail.sub_total,\r\n          //         keterangan : detail.keterangan,\r\n          //         deskripsi : detail.deskripsi,\r\n          //         deskripsi_contoh : detail.deskripsi_contoh,\r\n          //       }\r\n          //       pesanan.push(row)\r\n          //     });\r\n          // });\r\n\r\n          // localStorage.setItem(\r\n          //   \"validasi_pesanan\",\r\n          //   JSON.stringify(pesanan)\r\n          // );\r\n          this.props.dispatch(saveValidasiJual(res.data[0].penjualan));\r\n          this.props.dispatch(saveValidasiBeli(res.data[0].pembelian));\r\n          // this.props.dispatch(saveValidasiTitipan(res.data[0].titipan));\r\n          // this.props.dispatch(saveValidasiPesanan(pesanan));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", err.response?.data || \"Terjadi Kesalahan Saat Request Data\");\r\n        this.setState({\r\n          isLoading: false,\r\n          DataValidasi: [],\r\n        });\r\n        this.props.dispatch(saveValidasiJual([]));\r\n        this.props.dispatch(saveValidasiBeli([]));\r\n        this.props.dispatch(saveValidasiTitipan([]));\r\n        this.props.dispatch(saveValidasiPesanan([]));\r\n        localStorage.setItem(\r\n          \"validasi_jual\",\r\n          JSON.stringify([])\r\n        );\r\n        localStorage.setItem(\r\n          \"validasi_beli\",\r\n          JSON.stringify([])\r\n        );\r\n        localStorage.setItem(\r\n          \"validasi_titipan\",\r\n          JSON.stringify([])\r\n        );\r\n        localStorage.setItem(\r\n          \"validasi_pesanan\",\r\n          JSON.stringify([])\r\n        );\r\n      });\r\n  }\r\n\r\n\r\n  render() {\r\n    const selectRowPenjualan = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      selectColumnPosition: \"left\",\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        // console.log(isSelect);\r\n        if (isSelect === true) {\r\n          let hasil = {\r\n            no_faktur_group: row.no_faktur_group,\r\n          };\r\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\r\n          let hasil_cek = cek.findIndex(\r\n            (hasil) => hasil.no_faktur_group === row.no_faktur_group\r\n          );\r\n          if (hasil_cek === -1) {\r\n            cek.push(hasil);\r\n            localStorage.setItem(\"data_validasi_jual\", JSON.stringify(cek));\r\n          }\r\n        } else {\r\n          // console.log();\r\n          if (localStorage.getItem(\"data_validasi_jual\") === null) {\r\n          } else {\r\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_jual\"));\r\n            data.splice(row.no_faktur_group, 1);\r\n            localStorage.setItem(\"data_validasi_jual\", JSON.stringify(data));\r\n          }\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, data, e) => {\r\n        data.forEach((list, index) => {\r\n          if (isSelect === true) {\r\n            let hasil = {\r\n              no_faktur_group: list.no_faktur_group,\r\n            };\r\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\r\n            let hasil_cek = cek.findIndex(\r\n              (hasil) => hasil.no_faktur_group === list.no_faktur_group\r\n            );\r\n            if (hasil_cek === -1) {\r\n              cek.push(hasil);\r\n              localStorage.setItem(\"data_validasi_jual\", JSON.stringify(cek));\r\n            }\r\n          } else {\r\n            if (localStorage.getItem(\"data_validasi_jual\") === null) {\r\n            } else {\r\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_jual\"));\r\n              data.splice(list.no_faktur_group, 1);\r\n              localStorage.setItem(\"data_validasi_jual\", JSON.stringify(data));\r\n            }\r\n          }\r\n        });\r\n      },\r\n    };\r\n    const selectRowPembelian = {\r\n      mode: \"checkbox\",\r\n      clickToSelect: true,\r\n      selectColumnPosition: \"left\",\r\n      onSelect: (row, isSelect, rowIndex, e) => {\r\n        // console.log(isSelect);\r\n        if (isSelect === true) {\r\n          let hasil = {\r\n            no_faktur_group: row.no_faktur_group,\r\n          };\r\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\r\n          let hasil_cek = cek.findIndex(\r\n            (hasil) => hasil.no_faktur_group === row.no_faktur_group\r\n          );\r\n          if (hasil_cek === -1) {\r\n            cek.push(hasil);\r\n            localStorage.setItem(\"data_validasi_beli\", JSON.stringify(cek));\r\n          }\r\n        } else {\r\n          // console.log();\r\n          if (localStorage.getItem(\"data_validasi_beli\") === null) {\r\n          } else {\r\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_beli\"));\r\n            data.splice(row.no_faktur_group, 1);\r\n            localStorage.setItem(\"data_validasi_beli\", JSON.stringify(data));\r\n          }\r\n        }\r\n      },\r\n      onSelectAll: (isSelect, data, e) => {\r\n        data.forEach((list, index) => {\r\n          if (isSelect === true) {\r\n            let hasil = {\r\n              no_faktur_group: list.no_faktur_group,\r\n            };\r\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\r\n            let hasil_cek = cek.findIndex(\r\n              (hasil) => hasil.no_faktur_group === list.no_faktur_group\r\n            );\r\n            if (hasil_cek === -1) {\r\n              cek.push(hasil);\r\n              localStorage.setItem(\"data_validasi_beli\", JSON.stringify(cek));\r\n            }\r\n          } else {\r\n            if (localStorage.getItem(\"data_validasi_beli\") === null) {\r\n            } else {\r\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_beli\"));\r\n              data.splice(list.no_faktur_group, 1);\r\n              localStorage.setItem(\"data_validasi_beli\", JSON.stringify(data));\r\n            }\r\n          }\r\n        });\r\n      },\r\n    };\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n      onKeyPress={(e) => {\r\n        e.key === \"Enter\" && e.preventDefault();\r\n      }}\r\n      >\r\n        <div className=\"row\">\r\n          {/* <div className=\"col-3\">\r\n            <Field\r\n              name=\"kode_sales\"\r\n              onChange={(e) => this.getDataSales(e)}\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={this.props.DataSales.map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.nama_sales,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <Field\r\n              name=\"nama_sales\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Sales\"\r\n              placeholder=\"Masukan Nama Sales\"\r\n              readOnly={true}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <Field\r\n              name=\"grandtotal\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Grand Total\"\r\n              placeholder=\"Grand Total\"\r\n              readOnly={true}\r\n              customeCss={this.state.warna ? \"customeInput\" : \"\"}\r\n            />\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <label>&nbsp;</label>\r\n            <button\r\n              onClick={() => this.getDetaValidasi()}\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.state.isLoading}\r\n              type=\"button\"\r\n            >\r\n              {this.state.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cari Data\r\n                </>\r\n              ) : (\r\n                \"Cari Data\"\r\n              )}\r\n            </button>\r\n          </div> */}\r\n          {/* <div className=\"col-3\">\r\n          <Field\r\n              name=\"grand_total\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Grand Total\"\r\n              placeholder=\"Grand Total\"\r\n              readOnly={true}\r\n            />\r\n          </div> */}\r\n          <div className=\"col-12\">\r\n            <Panel>\r\n              <PanelHeader>List Data Penjualan</PanelHeader>\r\n              <br />\r\n              <Tabel\r\n                selectRow={selectRowPenjualan}\r\n                keyField=\"no_faktur_jual\"\r\n                columns={this.props.columnsJual}\r\n                data={this.props.saveValidasiJual || []}\r\n                empty={true}\r\n              />\r\n            </Panel>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <Panel>\r\n              <PanelHeader>List Data Pembelian</PanelHeader>\r\n              <br />\r\n              <Tabel\r\n                selectRow={selectRowPembelian}\r\n                keyField=\"no_faktur_beli\"\r\n                columns={this.props.columnsBeli}\r\n                data={this.props.saveValidasiBeli || []}\r\n                empty={true}\r\n              />\r\n            </Panel>\r\n          </div>\r\n          {/* <div className=\"col-12\">\r\n            <Panel>\r\n              <PanelHeader>List Data Titipan</PanelHeader>\r\n              <br />\r\n              <Tabel\r\n                keyField=\"kode_dept\"\r\n                columns={this.props.columnsTitipan}\r\n                data={this.props.saveValidasiTitipan || []}\r\n                empty={true}\r\n              />\r\n            </Panel>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <Panel>\r\n              <PanelHeader>List Data Pesanan</PanelHeader>\r\n              <br />\r\n              <Tabel\r\n                keyField=\"kode_dept\"\r\n                columns={this.props.columnsPesanan}\r\n                data={this.props.saveValidasiPesanan || []}\r\n                empty={true}\r\n              />\r\n            </Panel>\r\n          </div> */}\r\n          <div className=\"col-6\">\r\n            {this.props.btnValidasi === false ? (\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={true}\r\n                type=\"button\"\r\n              >\r\n                Validasi\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={this.props.isLoading}\r\n                type=\"submit\"\r\n              >\r\n                {this.props.isLoading ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Validasi\r\n                  </>\r\n                ) : (\r\n                  \"Validasi\"\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <button\r\n              className=\"btn btn-warning btn-block\"\r\n              disabled={this.props.isLoadingBtl}\r\n              onClick={this.props.btnClear}\r\n              type=\"button\"\r\n            >\r\n              {this.props.isLoadingBtl ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                </>\r\n              ) : (\r\n                \"Batal\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.props.isLoading || this.props.isLoadingBtl || this.state.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadValidasiJualBeli = reduxForm({\r\n  form: \"HeadValidasiJualBeliHutang\",\r\n  enableReinitialize: true,\r\n})(HeadValidasiJualBeli);\r\nexport default connect(maptostate, null)(HeadValidasiJualBeli);\r\n","import BwipJs from \"bwip-js\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\n// const base_url = JSON.parse(localStorage.getItem(\"base_url\"));\r\nimport notFound from \"../../../../assets/image-not-found.png\";\r\nimport { getUserdata } from \"../../../../components/helpers/function\";\r\nconst CetakFakturJualBeli = (data = \"\", kode_baki = \"\") => {\r\n  // initialize jsPDF\r\n  const doc = new jsPDF();\r\n  //   let data = JSON.parse(localStorage.getItem(\"tt_pengeluaran_barang\")) || []\r\n  doc.setFontSize(15);\r\n  doc.setFontSize(10);\r\n  doc.setProperties({\r\n    title: \"Cetak Faktur Penjualan\",\r\n  });\r\n  doc.setFont(\"tahoma\");\r\n  // let notFound = base_url + \"image-not-found.png\";\r\n\r\n  data.notajual.forEach((row, index) => {\r\n    row.Faktur.forEach((list, index) => {\r\n      if(getUserdata().kode_toko===\"KNG\"){\r\n        doc.setFontSize(6);\r\n      }else if(getUserdata().kode_toko===\"MNI\"){\r\n          doc.setFontSize(8);\r\n      }else{\r\n        doc.setFontSize(10);\r\n      }\r\n      if(list.status===true){\r\n      if (list.jenis === \"text\") {\r\n        doc.text(\r\n          list.position_x * 0.2645833333,\r\n          (parseFloat(list.position_y) + 15) * 0.2645833333,\r\n          doc.splitTextToSize(list.isi, list.width * 0.2645833333),\r\n          null,\r\n          parseInt(list.rotate * -1)\r\n        );\r\n      } else if (list.jenis === \"gambar\") {\r\n        if (list.rotate > 0) {\r\n          doc.addImage(\r\n            list.isi,\r\n            \"jpg\",\r\n            list.position_x * 0.2645833333,\r\n            parseFloat(list.position_y) * 0.2645833333 -\r\n              list.width * 0.2645833333,\r\n            list.width * 0.2645833333,\r\n            list.height * 0.2645833333,\r\n            \"\",\r\n            \"\",\r\n            parseInt(list.rotate * -1)\r\n          );\r\n        } else {\r\n          doc.addImage(\r\n            list.isi,\r\n            \"jpg\",\r\n            list.position_x * 0.2645833333,\r\n            parseFloat(list.position_y) * 0.2645833333,\r\n            list.width * 0.2645833333,\r\n            list.height * 0.2645833333\r\n          );\r\n        }\r\n      } else {\r\n        if (list.rotate > 0) {\r\n          doc.addImage(\r\n            notFound,\r\n            \"JPEG\",\r\n            list.position_x * 0.2645833333,\r\n            parseFloat(list.position_y) * 0.2645833333 -\r\n              list.width * 0.2645833333 +\r\n              25,\r\n            list.width * 0.2645833333,\r\n            list.height * 0.2645833333,\r\n            \"\",\r\n            \"\",\r\n            parseInt(list.rotate * -1)\r\n          );\r\n          // doc.addImage(img.src, 'JPEG', list.position_x * 0.2645833333,\r\n          //   parseFloat(list.position_y) * 0.2645833333,\r\n          //   list.width * 0.2645833333 - 15,\r\n          //   list.height * 0.2645833333,\r\n          //  )\r\n        } else {\r\n          // console.log(list.isi);\r\n          BwipJs.toCanvas(\"itf\", {\r\n            bcid: \"code128\", // Barcode type\r\n            text: list.isi, // Text to encode\r\n            scale: 3, // 3x scaling factor\r\n            height: 10, // Bar height, in millimeters\r\n            includetext: false, // Show human-readable text\r\n            textxalign: \"center\", // Always good to set this\r\n          });\r\n          const img = document.getElementById(\"itf\");\r\n          var dataURL = img.toDataURL();\r\n          doc.addImage(\r\n          dataURL,\r\n          \"JPEG\",\r\n          list.position_x * 0.2645833333,\r\n          parseFloat(list.position_y) * 0.2645833333 -\r\n          list.width * 0.2645833333 + 25,\r\n          list.width * 0.2645833333,\r\n          list.height * 0.2645833333,\r\n          \"\",\r\n          \"\",\r\n          );\r\n        }\r\n        }\r\n      }\r\n    });\r\n    if (index < data.notajual.length - 1) {\r\n      doc.addPage();\r\n    }\r\n  });\r\n  // doc.text('NPWP 14.10.431.5-5001.000',8.2020833333,154.78125)\r\n  // doc.addImage(dataURL,\"JPEG\", 14, 25);\r\n  // doc.autoPrint();\r\n  if (data.notajual.length > 10) {\r\n    doc.save(`Cetak Faktur Penjualan.pdf`);\r\n  } else {\r\n    var string = doc.output(\"datauristring\");\r\n    // var embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\r\n    var x = window.open();\r\n    x.document.open();\r\n    x.document.write(\r\n      \"<html><head><title>Cetak Faktur Penjualan</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src=\" +\r\n        string +\r\n        \"></embed></body></html>\"\r\n    );\r\n  }\r\n  // x.document.write(embed);\r\n  // setInterval(() => {\r\n  //   x.close();\r\n  // }, 1000);\r\n};\r\n\r\nexport default CetakFakturJualBeli;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport {\r\n  disableButtonValidasi,\r\n  saveValidasiBeli,\r\n  saveValidasiJual,\r\n  // saveValidasiPesanan,\r\n  // saveValidasiTitipan,\r\n} from \"../../../actions/hutang_action.jsx\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport { Panel, PanelBody, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport { getImage, postDataNoTImeOut } from \"../../../config/axios.jsx\";\r\nimport HeadValidasiJualBeli from \"./HeadValidasiJualBeli.jsx\";\r\nimport CetakFakturJualBeli from \"./pdf/CetakFakturJualBeli.jsx\";\r\nimport notFound from \"../../../assets/image-not-found.png\";\r\n\r\n\r\nclass FormValidasiJualBeli extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingBtl: false,\r\n      columnsJual: [\r\n        {\r\n          dataField: \"no_faktur_jual\",\r\n          text: \"No FJ\",\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>\r\n                Total Barang :{\" \"}\r\n                {JSON.parse(localStorage.getItem(\"validasi_jual\")) === null\r\n                  ? 0\r\n                  : JSON.parse(localStorage.getItem(\"validasi_jual\")).length ||\r\n                    0}{\" \"}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode \",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n          footer: \"\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n        },\r\n       \r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        // {\r\n        //   dataField: \"ongkos\",\r\n        //   text: \"Ongkos\",\r\n        //   headerClasses: 'text-right',\r\n        //   formatter: (cell) => {\r\n        //     return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n        //   },\r\n        //   footer: (columnData) => {\r\n        //     return <div className=\"text-right\"> { columnData\r\n        //       .reduce((acc, item) => acc + item, 0)\r\n        //       .toLocaleString(\"kr-KO\")  }</div>;\r\n        //   },\r\n        // },\r\n        {\r\n          dataField: \"harga_total\",\r\n          text: \"Harga\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            localStorage.setItem(\r\n              \"total_harga_beli\",\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            );\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n      ],\r\n      columnsBeli: [\r\n        {\r\n          dataField: \"no_faktur_beli\",\r\n          text: \"No FB \",\r\n          // footer: \"Total Barang\",\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>\r\n                Total Barang :{\" \"}\r\n                {JSON.parse(localStorage.getItem(\"validasi_beli\")) === null\r\n                  ? 0\r\n                  : JSON.parse(localStorage.getItem(\"validasi_beli\")).length ||\r\n                    0}{\" \"}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Kode Jenis \",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n          footer: \"\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kondisi\",\r\n          text: \"Kondisi\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        {\r\n          dataField: \"harga\",\r\n          text: \"Harga\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            localStorage.setItem(\r\n              \"total_harga_beli\",\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            );\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n      ],\r\n      columnsTitipan: [\r\n        {\r\n          dataField: \"no_titip_group\",\r\n          text: \"No Titipan\",\r\n          // footer: \"Total Barang\",\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>\r\n                Total Barang :{\" \"}\r\n                {JSON.parse(localStorage.getItem(\"validasi_titipan\")) === null\r\n                  ? 0\r\n                  : JSON.parse(localStorage.getItem(\"validasi_titipan\")).length ||\r\n                    0}{\" \"}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Kode Jenis \",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n          footer: \"\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kondisi\",\r\n          text: \"Kondisi\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        {\r\n          dataField: \"total_dp\",\r\n          text: \"Total Dp\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"harga_total\",\r\n          text: \"Total Transaksi\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            localStorage.setItem(\r\n              \"total_harga_beli\",\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            );\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n      ],\r\n      columnsPesanan: [\r\n        {\r\n          dataField: \"no_pesanan\",\r\n          text: \"No Pesanan\",\r\n          // footer: \"Total Barang\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>\r\n                Total Barang :{\" \"}\r\n                {JSON.parse(localStorage.getItem(\"validasi_pesanan\")) === null\r\n                  ? 0\r\n                  : JSON.parse(localStorage.getItem(\"validasi_pesanan\")).length ||\r\n                    0}{\" \"}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_kategori\",\r\n          text: \"Kode Kategori \",\r\n        },\r\n    \r\n        {\r\n          dataField: \"perkiraan_kadar\",\r\n          text: \"Perkiraan Kadar\",\r\n        },\r\n        {\r\n          dataField: \"harga_gram\",\r\n          text: \"Harga / Gram\",\r\n          formatter: (cell) => {\r\n            return cell.toLocaleString(\"kr-KO\");\r\n          },\r\n          footer: (columnData) =>\r\n          columnData.reduce((acc, item) => acc + item, 0).toLocaleString(\"kr-KO\"),\r\n        },\r\n        {\r\n          dataField: \"perkiraan_berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n          columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        {\r\n          dataField: \"deskripsi_contoh\",\r\n          text: \"Deskripsi\",\r\n        },\r\n        {\r\n          dataField: \"sub_total\",\r\n          text: \"Total\",\r\n          headerClasses: 'text-right',\r\n          footer: (columnData) => {\r\n            localStorage.setItem(\r\n              \"total_harga_beli\",\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            );\r\n            return <div className=\"text-right\"> { columnData\r\n              .reduce((acc, item) => acc + item, 0)\r\n              .toLocaleString(\"kr-KO\")  }</div>;\r\n          },\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    // no_pesanan: element.no_pesanan,\r\n    // kode_kategori : detail.kode_kategori,\r\n    // perkiraan_berat : detail.perkiraan_berat,\r\n    // perkiraan_kadar : detail.perkiraan_kadar,\r\n    // harga_gram : detail.harga_gram,\r\n    // harga_atribut : detail.harga_atribut,\r\n    // ongkos : detail.ongkos,\r\n    // sub_total : detail.sub_total,\r\n    // keterangan : detail.keterangan,\r\n    // deskripsi : detail.deskripsi,\r\n    // deskripsi_contoh : detail.deskripsi_contoh,\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.btnClear = this.btnClear.bind(this);\r\n  }\r\n\r\n  btnClear() {\r\n    this.setState({\r\n      isLoadingBtl: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.removeItem(\"validasi_titipan\");\r\n      localStorage.removeItem(\"validasi_jual\");\r\n      localStorage.removeItem(\"validasi_beli\");\r\n      this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\r\n      this.props.dispatch(saveValidasiJual([]));\r\n      this.props.dispatch(saveValidasiBeli([]));\r\n      this.props.dispatch(disableButtonValidasi(false));\r\n      this.setState({\r\n        isLoadingBtl: false,\r\n      });\r\n    }, 1000);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.dispatch(saveValidasiJual([]));\r\n    this.props.dispatch(saveValidasiBeli([]));\r\n  }\r\n  componentDidMount(){\r\n    localStorage.setItem(\"validasi_jual\", \"[]\")\r\n    localStorage.setItem(\"data_validasi_jual\", \"[]\")\r\n    localStorage.setItem(\"validasi_beli\", \"[]\")\r\n    localStorage.setItem(\"data_validasi_beli\", \"[]\")\r\n  }\r\n  handleSubmit(data) {\r\n\r\n    let validasi_jual = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\r\n    let validasi_beli = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\r\n    if(validasi_jual.length === 0 && validasi_beli.length === 0){\r\n      ToastNotification(\"info\", \"Data yang akan divalidasi kosong, Silahkan pilih minimal 1 faktur.\")\r\n      return false;\r\n    }\r\n\r\n    this.setState({\r\n      isLoading : true\r\n    })\r\n    let penjualan = [];\r\n    let pembelian = [];\r\n   \r\n    if (validasi_jual.length === 0) {\r\n      penjualan = [];\r\n    } else {\r\n      validasi_jual.forEach((item, index) => {\r\n        let penjualan_tmp = { no_faktur_group: item.no_faktur_group };\r\n        penjualan.push(penjualan_tmp);\r\n      });\r\n    }\r\n\r\n    if (validasi_beli.length === 0) {\r\n      pembelian = [];\r\n    } else {\r\n      validasi_beli.forEach((item, index) => {\r\n        let pembelian_tmp = { no_faktur_group: item.no_faktur_group };\r\n        pembelian.push(pembelian_tmp);\r\n      });\r\n    }\r\n    let hasil = {\r\n      penjualan: penjualan,\r\n      pembelian: pembelian,\r\n    };\r\n   \r\n    postDataNoTImeOut(\"validasi/simpan/jualbeli\", hasil)\r\n      .then(async(res) => {\r\n        // return false;\r\n      \r\n        if (res.data.notajual.length !== 0) {\r\n          // CetakFakturJualBeli(res.data);\r\n          const DataFaktur = [];\r\n          for (const hasil of res.data.notajual) {\r\n            const IsiFaktur = [];\r\n            for (const DetailFaktur of hasil.Faktur) {\r\n              if (DetailFaktur.jenis === \"gambar\") {\r\n                await getImage('foto_produk/'+DetailFaktur.isi).then((res) => {\r\n                  DetailFaktur.isi = res;\r\n                }).catch((err)=>{\r\n                  // console.log(err);\r\n                DetailFaktur.isi = notFound;\r\n                })\r\n              }\r\n              IsiFaktur.push(DetailFaktur);\r\n            }\r\n            DataFaktur.push({ Faktur: IsiFaktur });\r\n          }\r\n          setTimeout(() => {\r\n            this.setState({\r\n              isLoadingValidasi : false,\r\n              isLoading : false\r\n            })\r\n            CetakFakturJualBeli({notajual : DataFaktur});\r\n          }, 200);\r\n        }\r\nif (res.data.notabeli.length !== 0) {\r\n// console.log(res.data.notabeli);\r\nlet notabeli = [];\r\nfor (let index = 0; index < 2; index++) {\r\nlet feedback = '';\r\nres.data.notabeli.forEach((row, index) => {\r\nlet jml_alamat = row.head.n_alamat_customer.length;\r\nfeedback += `========================================\\n`;\r\nfeedback += `            NOTA PEMBELIAN              \\n`\r\nfeedback += `========================================\r\nTanggal          : ${row.head.tgl_system}\r\nNama Customer    : ${row.head.nama_customer}\r\nNo Hp            : ${row.head.no_hp}\r\nAlamat Customer  : ${row.head.n_alamat_customer.slice(0,20)}\\n`\r\nif(jml_alamat>20){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(20,40)}\\n`;\r\n}\r\nif(jml_alamat>40){\r\nfeedback += `                   ${row.head.n_alamat_customer.slice(40,60)}\\n`;\r\n}\r\nfeedback += `========================================\\n`\r\nfeedback += `Keterangan\\n`\r\nfeedback += `========================================\\n`\r\nlet total = 0;\r\nlet harga_nota = 0;\r\nrow.detail.forEach((detail, index) => {\r\ntotal = total + detail.harga;\r\nharga_nota = harga_nota + detail.harga_nota;\r\nlet jml_nama_barang = detail.nama_barang.length;\r\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\r\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\r\nfeedback += `Nama Barang    : ${detail.nama_barang.slice(0,20)}\\n`\r\nif(jml_nama_barang>20){\r\nfeedback += `                 ${detail.nama_barang.slice(20,40)}\\n`;\r\n}\r\nif(jml_nama_barang>40){\r\nfeedback += `                 ${detail.nama_barang.slice(40,60)}\\n`;\r\n}\r\nfeedback += `Berat          : ${detail.berat.toFixed(3)} Gram\\n`\r\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `Harga Rata     : ${Number((parseFloat(detail.harga) / parseFloat(detail.berat)).toFixed(0)).toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\n})\r\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\r\nfeedback += `========================================\\n`\r\nfeedback += `\r\n\r\n\r\n\r\n`\r\n})\r\n  notabeli.push(feedback)\r\n}\r\n  \r\n          document.getElementById(\"myInput\").value = notabeli.join('');\r\n        setTimeout(() => {\r\n          this.TextFile();\r\n        }, 100);\r\n}\r\n        localStorage.removeItem(\"validasi_jual\");\r\n        localStorage.removeItem(\"validasi_beli\");\r\n        this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\r\n        this.props.dispatch(saveValidasiJual([]));\r\n        this.props.dispatch(saveValidasiBeli([]));\r\n        this.props.dispatch(disableButtonValidasi(false));\r\n        ToastNotification(\"success\", \"Validasi Transaksi Berhasil\");\r\n        this.setState({\r\n          isLoadingValidasi : false,\r\n          isLoading : false\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err.response.data);\r\n        this.setState({\r\n          isLoadingValidasi : false,\r\n          isLoading : false\r\n        })\r\n        ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\r\n      });\r\n  }\r\n  TextFile() {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([document.getElementById(\"myInput\").value], {\r\n      type: \"text/plain;charset=utf-8\",\r\n    });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"autoprint_pembelian.txt\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n  }\r\n \r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Kasir</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Validasi</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Validasi </h1>\r\n        <Panel>\r\n          <PanelHeader>Validasi</PanelHeader>\r\n          <textarea\r\n            style={{ display: \"none\" }}\r\n            id=\"myInput\"\r\n            rows=\"100\"\r\n            cols=\"100\"\r\n          />\r\n          <textarea\r\n            style={{ display: \"none\" }}\r\n            id=\"nota_titip\"\r\n            rows=\"100\"\r\n            cols=\"100\"\r\n          />\r\n          <textarea\r\n            style={{ display: \"none\" }}\r\n            id=\"nota_pesanan\"\r\n            rows=\"100\"\r\n            cols=\"100\"\r\n          />\r\n\r\n          <br />\r\n          {/* Validasi Jual Beli */}\r\n          {/* <button onClick={()=>this.cetakFaktur()}> Print </button> */}\r\n          <PanelBody>\r\n            <HeadValidasiJualBeli\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              isLoading={this.state.isLoading}\r\n              btnClear={() => this.btnClear()}\r\n              isLoadingBtl={this.state.isLoadingBtl}\r\n              columnsBeli={this.state.columnsBeli}\r\n              columnsJual={this.state.columnsJual}\r\n              columnsTitipan={this.state.columnsTitipan}\r\n              columnsPesanan={this.state.columnsPesanan}\r\n            />\r\n          </PanelBody>\r\n          <br />\r\n          {/* End Tambah Validasi Jual Beli  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFormValidasiJualBeli = reduxForm({\r\n  form: \"FormValidasiJualBeli\",\r\n  enableReinitialize: true,\r\n})(FormValidasiJualBeli);\r\nexport default connect()(FormValidasiJualBeli);\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAMAAABF6+6qAAAAM1BMVEXz9Pa5vsrp6+/Q09vBxdDl5+vw8fS+ws66wMvi5enS1t3HzNXa3ePt7vHe4ebLz9jV2N8T7rePAAAEfklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD27m7HTRgIoLCHAHGG3/d/2q7SrSZtTRZs7ZJ4zncLEhcc2WAZAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4R924Xn6ejl0fUK1+bOUsV50C6tS1cqY4B9RolrNpQH3O70pkDajNFOUF3AIqs8graAPq0shr4AG+Mqu8hiGgKoPNRpefZ1ePAVWJ8mkJZ7ABswmoifzRhTP0D9dHRfrjI0ZVYeMTYeEtEBbuCAtvgbBwR1h4C8/D6rvbrZvC3wgLRWE1ayt3rT4eIyyUhDUt8mCZ7AhhIT+sOW5uHyYsZIc1PtnkSVjIDWuUhDH8RljIDKuL8i+79YSF3LBaSWr78IGwkBnWLCYxGRIW8sIann/xQFjICquRBDuHsJAX1ijydC4kLGSFpbLpEnbrVsLyLBHWIpuW/V1FUcJy7FhYw4GuRJSw/PqGEctWWJWw3Dr2jKX7u7pTwvIqEdZc+lZ4i1YiYTmVCGuSTdPOrowSlk+HVt6H3V0ZJSyXUmHdZMO8vyujhOVRIqzNIWs40pVRwnIoGVYTJSE2h7oySlj+JMNKT4bzwa6MEpY76bDCHDO7SlPC8iYRVvKfAm2X0ZVRwnJmK6zQrw+ZxLXP6sooYfnyX1imn5erfLguYx8yuzJKWK4kwzL91EzBHO/KKGF5shWWKezKKGE5UhqWdfU1JSw/CsOyrvZQwnKjLCzrah8lLC+KwrKu9lLCciIjrIyujBKWDxlh5XRllLBcyAgrqyujhOXB7rCasawro4TlwN6wmquMZV0ZJaz6fRWWdSUylnVllLCq94u9e8tNGIaiKBqXFCg4lPmPtjItMlLvV6zm4a41hq2rI/84CCvuqshtXVUXYfUuCivuqshtXVUXYXUuDCvuqshNXVUnYXUuCCvoqsqvXQmLWWHVrqpcuxIWM8OqXVX52ZWwmB1W7arK310Ji1lhxV0VuXQlLGaEVbuKHM5JWMwJq3YVExbzw6pdCYvGsOKuhEVjWHFXwqIxrLgrYdEYVtyVsGgMK+5KWDSGFXclLBrDirsSFo1hxV0Ji8aw4q6ERXtY1/SLsBAWWyAsCmGxD8KiEBb7ICwKYbEPwqIQFvsgLAphsQ/ColgirMO4AGF17jWsP+IX+/9IWDwIi10QFg/CYheExYOw2If0dBvW8PYSNj0Z04/Tx3FY3PuYnqaBnnymbRgHunJL23AZ6MrxlDbBxOpNTltwGOjNNa3vZLr3ZxrT2s4esXo0rX2zRgOrU/dzWtHhONCpY76u1NZ4d646N70tb3KsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOCrPTgkAAAAABD0/7UrbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvwBQ1zWzb+cicAAAAABJRU5ErkJggg==\""],"sourceRoot":""}